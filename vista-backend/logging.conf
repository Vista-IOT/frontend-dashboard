# Vista IoT Backend Logging Configuration
# This file allows easy adjustment of logging levels and settings

[loggers]
keys=root,api,polling,system,errors,security,performance

[handlers]
keys=consoleHandler,fileHandler

[formatters]
keys=detailedFormatter,simpleFormatter,jsonFormatter

# Logger configurations
[logger_root]
level=WARNING
handlers=consoleHandler

[logger_api]
level=DEBUG
handlers=fileHandler
qualname=vista.api
propagate=0

[logger_polling]
level=DEBUG
handlers=fileHandler
qualname=vista.polling
propagate=0

[logger_system]
level=INFO
handlers=fileHandler
qualname=vista.system
propagate=0

[logger_errors]
level=WARNING
handlers=fileHandler
qualname=vista.errors
propagate=0

[logger_security]
level=INFO
handlers=fileHandler
qualname=vista.security
propagate=0

[logger_performance]
level=INFO
handlers=fileHandler
qualname=vista.performance
propagate=0

# Handler configurations
[handler_consoleHandler]
class=StreamHandler
level=INFO
formatter=simpleFormatter
args=(sys.stdout,)

[handler_fileHandler]
class=logging.handlers.RotatingFileHandler
level=DEBUG
formatter=detailedFormatter
args=('logs/vista.log', 'a', 10485760, 5, 'utf-8')

# Formatter configurations
[formatter_simpleFormatter]
format=%(asctime)s | %(levelname)-8s | %(name)s | %(message)s
datefmt=%H:%M:%S

[formatter_detailedFormatter]
format=%(asctime)s | %(levelname)-8s | %(name)-25s | %(funcName)-20s:%(lineno)-4d | %(message)s
datefmt=%Y-%m-%d %H:%M:%S

[formatter_jsonFormatter]
class=app.logging_config.JsonFormatter
